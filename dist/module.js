"use strict";angular.module("sendSms",["ngMaterial"]),angular.module("sendSms").component("addSmsAction",{require:{prmActionCtrl:"^prmActionList"},controller:["sendSmsForm","smsOptions",function(n,e){var o=this;this.$onInit=function(){return o.addSmsAction(e.smsAction)},this.addSmsAction=function(e){var r=o.prmActionCtrl,i=r.actionListService,t=Object.keys(i.requiredActionsList).length;r.actionLabelNamesMap[e.name]=e.label,r.actionIconNamesMap[e.name]=e.name,r.actionIcons[e.name]=e.icon,i.actionsToIndex[e.name]||(i.requiredActionsList[t]=e.name,i.actionsToDisplay.unshift(e.name),i.actionsToIndex[e.name]=t,i.onToggle[e.name]=function(){return n.showForm()})}}]}),angular.module("sendSms").factory("sendSmsService",["$http",function(n){return{sendSms:function(n,e){return new Promise(function(o,r){console.log("sending message ",n,e),o()})}}}]),angular.module("sendSms").factory("sendSmsForm",["$mdDialog","sendSmsService",function(n,e){return{showForm:function(e){n.show({template:'\n        <md-dialog aria-label="send SMS">\n            <md-dialog-content>\n              <md-content layout-padding>\n                <md-input-container>\n                  <label>Carrier</label>\n                  <md-select ng-model="carrier" placeholder="Select a carrier">\n                    <md-option ng-repeat="carrier in carriers"\n                                value="{{ carrier }}">\n                               {{ carrier }}\n                    </md-option>\n                  </md-select>\n                </md-input-container>\n                <md-input-container>\n                  <label>Phone number</label>\n                  <input ng-model="phoneNumber" type="tel">\n                </md-input-container>\n              </md-content>\n            </md-dialog-content>\n            <md-dialog-actions>\n              <md-button ng-click="sendSms()" class="md-primary">Send\n              </md-button>\n              <md-button ng-click="cancel()">Cancel\n              </md-button>\n            </md-dialog-actions>\n        </md-dialog>',controller:["$scope","$mdDialog","sendSmsService","smsOptions",function(n,e,o,r){n.carrier=n.phoneNumber="",n.carriers=r.smsCarriers,n.sendSms=function(){o.sendSms("hello",{carrier:n.carrier,phoneNumber:n.phoneNumber}).then(function(){return e.hide()})},n.cancel=function(){return e.hide()}}]})}}}]),angular.module("sendSms").value("smsOptions",{smsAction:{name:"send_sms",label:"SMS",icon:{icon:"ic_smartphone_24px",iconSet:"hardware",type:"svg"}},smsCarriers:["ATT","Cricket","Sprint","T-Mobile","Verizon","Virgin"]});